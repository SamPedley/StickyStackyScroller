{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ee1442b78d7e76a680ae","webpack:///./src/index.js","webpack:///./src/StickyStackyScrollr.js","webpack:///./src/StickyCollection.js","webpack:///./src/StickyElement.js"],"names":["StickyStackyScrollr","elements","scrollToListen","window","addEventListener","onScroll","bind","resize","i","list","length","scrollTop","pageYOffset","isDocked","toTop","makeSticky","makeNormal","unbind","StickyCollection","jqueyArray","_getElements","sort","_sortByOffset","_assignBuffer","$duplicate","remove","updateSize","concat","get","map","element","a","b","offset","buffer","_calculateBuffer","index","total","height","StickyElement","$element","dimensions","getBoundingClientRect","clone","removeAttr","insertAfter","hide","self","$self","width","isTable","find","top","docked","show","style","zIndex","position","className","makeTableSticky","removeAttribute","replace","ths","_makeTableNormal","_getTableHeaderWidth","percent","duplicate"],"mappings":"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","file":"index.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"stickyStackyScrollr\"] = factory();\n\telse\n\t\troot[\"stickyStackyScrollr\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ee1442b78d7e76a680ae","import StickyStackyScrollr from './StickyStackyScrollr'\n\nexport default StickyStackyScrollr\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import StickyCollection from './StickyCollection.js'\nimport $ from 'jquery'\n\nexport default class StickyStackyScrollr {\n  constructor (elements, scrollToListen = window) {\n    this.scrollToListen = scrollToListen\n    this.elements = new StickyCollection(elements)\n\n    this.scrollToListen.addEventListener('scroll', this.onScroll.bind(this))\n    window.addEventListener('resize', this.resize.bind(this))\n  }\n\n  onScroll () {\n    for (let i = 0; i < this.elements.list.length; i++) {\n      const scrollTop = this.scrollToListen.pageYOffset\n      if (!this.elements.list[i].isDocked && this.elements.list[i].toTop() - scrollTop < 0) {\n        this.elements.list[i].makeSticky()\n      } else if (this.elements.list[i].isDocked && scrollTop <= this.elements.list[i].toTop()) {\n        this.elements.list[i].makeNormal()\n      }\n    };\n  }\n\n  resize () {\n    this.elements.resize()\n    this.onScroll()\n  }\n\n  unbind () {\n    $(this.scrollToListen).unbind('.scrollSSS')\n    $(window).unbind('.resizeSSS')\n    this.elements.unbind()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/StickyStackyScrollr.js","import StickyElement from './StickyElement.js'\nimport $ from 'jquery'\n\nexport default class StickyCollection {\n  constructor (jqueyArray) {\n    let elements = this._getElements(jqueyArray)\n    elements = elements.sort(this._sortByOffset)\n    this.list = this._assignBuffer(elements)\n  }\n\n  unbind () {\n    for (let i = 0; i < this.list.length; i++) {\n      this.list[i].makeNormal()\n      this.list[i].$duplicate.remove()\n    };\n  }\n\n  resize () {\n    for (let i = 0; i < this.list.length; i++) {\n      this.list[i].makeNormal()\n      this.list[i].updateSize()\n      this.list = this._assignBuffer(this.list)\n    };\n  }\n\n  _getElements (list) {\n    var elements = []\n    for (var i = 0; i < list.length; i++) {\n      elements = elements.concat($(list[i]).get())\n    }\n    return elements.map((element) => new StickyElement(element))\n  }\n\n  _sortByOffset (a, b) {\n    if (a.offset < b.offset) {\n      return -1\n    } else if (a.offset > b.offset) {\n      return 1\n    }\n    return 0\n  }\n  _assignBuffer (elements) {\n    for (let i = 0; i < elements.length; i++) {\n      if (i === 0) {\n        elements[i].buffer = 0\n      } else {\n        elements[i].buffer = this._calculateBuffer(elements, i - 1)\n      }\n    };\n    return elements\n  }\n\n  _calculateBuffer (elements, index) {\n    let total = 0\n    for (let i = index; i >= 0; i--) {\n      total += elements[i].height\n    };\n    return total\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/StickyCollection.js","import $ from 'jquery'\n\nexport default class StickyElement {\n  constructor ($element) {\n    $element = $($element)\n    let dimensions = $element[0].getBoundingClientRect()\n    let $duplicate = $element.clone().removeAttr('data-reactid').insertAfter($element).hide()\n    this.self = $element[0]\n    this.$self = $element\n    this.$duplicate = $duplicate\n    this.height = dimensions.height\n    this.width = dimensions.width\n    this.isTable = !!$element.find('tr, table, thead').length\n    this.offset = $element.offset().top\n    this.buffer = 0\n    this.docked = false\n    this.toTop = function () { return this.offset - this.buffer }\n  }\n\n  makeSticky () {\n    this.isDocked = true\n    this.$duplicate.show()\n    this.self.style.top = this.buffer + 'px'\n    this.self.style.width = this.width + 'px'\n    this.self.style.height = this.height + 'px'\n    this.self.style.zIndex = 999\n    this.self.style.position = 'fixed'\n    this.self.className += ' activeSticky'\n    if (this.isTable) {\n      this.makeTableSticky()\n    }\n  }\n\n  makeNormal () {\n    this.isDocked = false\n    this.$duplicate.hide()\n    this.self.removeAttribute('style')\n    this.self.className = this.self.className.replace(' activeSticky', '')\n    if (this.isTable && this.ths) {\n      this._makeTableNormal()\n    }\n  }\n\n  _makeTableNormal () {\n    for (var i = 0; i < this.ths.length; i++) {\n      this.ths[i].self.removeAttribute('style')\n    }\n  }\n\n  updateSize () {\n    let dimensions = this.self.getBoundingClientRect()\n    this.height = dimensions.height\n    this.width = dimensions.width\n    this.offset = this.$self.offset().top\n  }\n\n  makeTableSticky () {\n    if (!this.ths) {\n      this._getTableHeaderWidth()\n    }\n\n    for (var i = 0; i < this.ths.length; i++) {\n      this.ths[i].self.style.width = this.ths[i].percent + '%'\n    }\n  }\n\n  _getTableHeaderWidth () {\n    let ths = this.$self.find('th')\n    let duplicate = this.$duplicate.find('th')\n\n    for (var i = 0; i < ths.length; i++) {\n      let percent = $(duplicate[i]).width() / this.width\n      ths[i] = {percent, self: ths[i]}\n    }\n\n    this.ths = ths\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/StickyElement.js"],"sourceRoot":""}